"use strict";for(var limit=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r<t?t:n<r?n:r},clip_rgb=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var t=0;t<=3;t++)t<3?(r._clipped=r[t]<0||255<r[t],r[t]=limit(r[t],0,255)):3===t&&(r[t]=limit(r[t],0,1));return r},classToType={},i=0,list=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<list.length;i+=1){var name=list[i];classToType["[object "+name+"]"]=name.toLowerCase()}var type=function(r){return classToType[Object.prototype.toString.call(r)]||"object"},unpack=function(t,r){return void 0===r&&(r=null),3<=t.length?Array.prototype.slice.call(t):"object"==type(t[0])&&r?r.split("").filter(function(r){return void 0!==t[0][r]}).map(function(r){return t[0][r]}):t[0]},last=function(r){if(r.length<2)return null;var t=r.length-1;return"string"==type(r[t])?r[t].toLowerCase():null},PI=Math.PI,utils={clip_rgb:clip_rgb,limit:limit,type:type,unpack:unpack,last:last,PI:PI,TWOPI:2*PI,PITHIRD:PI/3,DEG2RAD:PI/180,RAD2DEG:180/PI},input={format:{},autodetect:[]},last$1=utils.last,clip_rgb$1=utils.clip_rgb,Color=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=this,a=last$1(r),e=!1;if(!a){e=!0,input.sorted||(input.autodetect=input.autodetect.sort(function(r,t){return t.p-r.p}),input.sorted=!0);for(var o=0,u=input.autodetect;o<u.length;o+=1){var l=u[o];if(a=l.test.apply(l,r))break}}input.format[a]?n._rgb=clip_rgb$1(input.format[a].apply(null,e?r:r.slice(0,-1))):(console.warn("unknown format: "+r),n._rgb=[0,0,0]),3===n._rgb.length&&n._rgb.push(1)},Color_1=Color,chroma=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(chroma.Color,[null].concat(r)))};chroma.Color=Color_1,chroma.version="@@version";var chroma_1=chroma,unpack$1=utils.unpack,max=Math.max,rgb2cmyk=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$1(r,"rgb"),a=n[0],e=n[1],o=n[2],u=1-max(a/=255,max(e/=255,o/=255)),l=u<1?1/(1-u):0;return[(1-a-u)*l,(1-e-u)*l,(1-o-u)*l,u]},rgb2cmyk_1=rgb2cmyk,unpack$2=utils.unpack,cmyk2rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=(r=unpack$2(r,"cmyk"))[0],a=r[1],e=r[2],o=r[3],u=4<r.length?r[4]:1;return 1===o?[0,0,0,u]:[1<=n?0:255*(1-n)*(1-o),1<=a?0:255*(1-a)*(1-o),1<=e?0:255*(1-e)*(1-o),u]},cmyk2rgb_1=cmyk2rgb;Color_1.prototype.cmyk=function(){return rgb2cmyk_1(this._rgb)},chroma_1.cmyk=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["cmyk"])))},input.format.cmyk=cmyk2rgb_1;var unpack$3=utils.unpack,last$2=utils.last,rnd=function(r){return Math.round(100*r)/100},hsl2css=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$3(r,"hsla"),a=last$2(r)||"lsa";return n[0]=rnd(n[0]||0),n[1]=rnd(100*n[1])+"%",n[2]=rnd(100*n[2])+"%","hsla"===a||3<n.length&&n[3]<1?(n[3]=3<n.length?n[3]:1,a="hsla"):n.length=3,a+"("+n.join(",")+")"},hsl2css_1=hsl2css,unpack$4=utils.unpack,rgb2hsl=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=(r=unpack$4(r,"rgba"))[0],a=r[1],e=r[2];n/=255,a/=255,e/=255;var o,u,l=Math.min(n,a,e),c=Math.max(n,a,e),i=(c+l)/2;return c===l?(o=0,u=Number.NaN):o=i<.5?(c-l)/(c+l):(c-l)/(2-c-l),n==c?u=(a-e)/(c-l):a==c?u=2+(e-n)/(c-l):e==c&&(u=4+(n-a)/(c-l)),(u*=60)<0&&(u+=360),3<r.length&&void 0!==r[3]?[u,o,i,r[3]]:[u,o,i]},rgb2hsl_1=rgb2hsl,unpack$5=utils.unpack,last$3=utils.last,round=Math.round,rgb2css=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$5(r,"rgba"),a=last$3(r)||"rgb";return"hsl"==a.substr(0,3)?hsl2css_1(rgb2hsl_1(n),a):(n[0]=round(n[0]),n[1]=round(n[1]),n[2]=round(n[2]),("rgba"===a||3<n.length&&n[3]<1)&&(n[3]=3<n.length?n[3]:1,a="rgba"),a+"("+n.join(",")+")")},rgb2css_1=rgb2css,RE_HEX=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,RE_HEXA=/^#?([A-Fa-f0-9]{8})$/,hex2rgb=function(r){if(r.match(RE_HEX)){4!==r.length&&7!==r.length||(r=r.substr(1)),3===r.length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var t=parseInt(r,16);return[t>>16,t>>8&255,255&t,1]}if(r.match(RE_HEXA)){9===r.length&&(r=r.substr(1));var n=parseInt(r,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+r)},hex2rgb_1=hex2rgb,unpack$6=utils.unpack,round$1=Math.round,hsl2rgb=function(){for(var r,t=[],n=arguments.length;n--;)t[n]=arguments[n];var a,e,o,u=(t=unpack$6(t,"hsl"))[0],l=t[1],c=t[2];if(0===l)a=e=o=255*c;else{var i=[0,0,0],s=[0,0,0],f=c<.5?c*(1+l):c+l-c*l,p=2*c-f,g=u/360;i[0]=g+1/3,i[1]=g,i[2]=g-1/3;for(var h=0;h<3;h++)i[h]<0&&(i[h]+=1),1<i[h]&&(i[h]-=1),6*i[h]<1?s[h]=p+6*(f-p)*i[h]:2*i[h]<1?s[h]=f:3*i[h]<2?s[h]=p+(f-p)*(2/3-i[h])*6:s[h]=p;a=(r=[round$1(255*s[0]),round$1(255*s[1]),round$1(255*s[2])])[0],e=r[1],o=r[2]}return 3<t.length?[a,e,o,t[3]]:[a,e,o]},hsl2rgb_1=hsl2rgb,w3cx11={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w3cx11_1=w3cx11,RE_RGB=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,RE_RGBA=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,RE_RGB_PCT=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,RE_RGBA_PCT=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,RE_HSL=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,RE_HSLA=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,round$2=Math.round,css2rgb=function(r){if(r=r.toLowerCase().trim(),w3cx11_1[r])return hex2rgb_1(w3cx11_1[r]);var t;if(t=r.match(RE_RGB)){for(var n=t.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(t=r.match(RE_RGBA)){for(var e=t.slice(1,5),o=0;o<4;o++)e[o]=+e[o];return e}if(t=r.match(RE_RGB_PCT)){for(var u=t.slice(1,4),l=0;l<3;l++)u[l]=round$2(2.55*u[l]);return u[3]=1,u}if(t=r.match(RE_RGBA_PCT)){for(var c=t.slice(1,5),i=0;i<3;i++)c[i]=round$2(2.55*c[i]);return c[3]=+c[3],c}if(t=r.match(RE_HSL)){var s=t.slice(1,4);s[1]*=.01,s[2]*=.01;var f=hsl2rgb_1(s);return f[3]=1,f}if(t=r.match(RE_HSLA)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var g=hsl2rgb_1(p);return g[3]=+t[4],g}};Color_1.prototype.css=function(r){return rgb2css_1(this._rgb,r)},chroma_1.css=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["css"])))},input.format.css=css2rgb;var unpack$7=utils.unpack,rgb2hcg=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n,a=unpack$7(r,"rgb"),e=a[0],o=a[1],u=a[2],l=Math.min(e,o,u),c=Math.max(e,o,u),i=c-l,s=100*i/255,f=l/(255-i)*100;return 0===i?n=Number.NaN:(e===c&&(n=(o-u)/i),o===c&&(n=2+(u-e)/i),u===c&&(n=4+(e-o)/i),(n*=60)<0&&(n+=360)),[n,s,f]},rgb2hcg_1=rgb2hcg,unpack$8=utils.unpack,floor=Math.floor,hcg2rgb=function(){for(var r,t,n,a,e,o,u=[],l=arguments.length;l--;)u[l]=arguments[l];var c,i,s,f=(u=unpack$8(u,"hcg"))[0],p=u[1],g=u[2];g*=255;var h=255*p;if(0===p)c=i=s=g;else{360===f&&(f=0),360<f&&(f-=360),f<0&&(f+=360);var b=floor(f/=60),d=f-b,m=g*(1-p),_=m+h*(1-d),y=m+h*d,k=m+h;switch(b){case 0:c=(r=[k,y,m])[0],i=r[1],s=r[2];break;case 1:c=(t=[_,k,m])[0],i=t[1],s=t[2];break;case 2:c=(n=[m,k,y])[0],i=n[1],s=n[2];break;case 3:c=(a=[m,_,k])[0],i=a[1],s=a[2];break;case 4:c=(e=[y,m,k])[0],i=e[1],s=e[2];break;case 5:c=(o=[k,m,_])[0],i=o[1],s=o[2]}}return[c,i,s,3<u.length?u[3]:1]},hcg2rgb_1=hcg2rgb,unpack$9=utils.unpack,type$1=utils.type;Color_1.prototype.hcg=function(){return rgb2hcg_1(this._rgb)},chroma_1.hcg=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["hcg"])))},input.format.hcg=hcg2rgb_1,input.autodetect.push({p:1,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$9(r,"hcg"),"array"===type$1(r)&&3===r.length)return"hcg"}});var unpack$a=utils.unpack,last$4=utils.last,round$3=Math.round,rgb2hex=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$a(r,"rgba"),a=n[0],e=n[1],o=n[2],u=n[3],l=last$4(r)||"auto";void 0===u&&(u=1),"auto"===l&&(l=u<1?"rgba":"rgb");var c="000000"+((a=round$3(a))<<16|(e=round$3(e))<<8|(o=round$3(o))).toString(16);c=c.substr(c.length-6);var i="0"+round$3(255*u).toString(16);switch(i=i.substr(i.length-2),l.toLowerCase()){case"rgba":return"#"+c+i;case"argb":return"#"+i+c;default:return"#"+c}},rgb2hex_1=rgb2hex,type$2=utils.type;Color_1.prototype.hex=function(r){return rgb2hex_1(this._rgb,r)},chroma_1.hex=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["hex"])))},input.format.hex=hex2rgb_1,input.autodetect.push({p:4,test:function(r){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(!t.length&&"string"===type$2(r)&&[3,4,6,7].includes(r.length))return"hex"}});var unpack$b=utils.unpack,TWOPI=utils.TWOPI,min=Math.min,sqrt=Math.sqrt,acos=Math.acos,rgb2hsi=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n,a=unpack$b(r,"rgb"),e=a[0],o=a[1],u=a[2],l=min(e/=255,o/=255,u/=255),c=(e+o+u)/3,i=0<c?1-l/c:0;return 0===i?n=NaN:(n=(e-o+(e-u))/2,n/=sqrt((e-o)*(e-o)+(e-u)*(o-u)),n=acos(n),o<u&&(n=TWOPI-n),n/=TWOPI),[360*n,i,c]},rgb2hsi_1=rgb2hsi,unpack$c=utils.unpack,limit$1=utils.limit,TWOPI$1=utils.TWOPI,PITHIRD=utils.PITHIRD,cos=Math.cos,hsi2rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n,a,e,o=(r=unpack$c(r,"hsi"))[0],u=r[1],l=r[2];return isNaN(o)&&(o=0),isNaN(u)&&(u=0),360<o&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?a=1-((e=(1-u)/3)+(n=(1+u*cos(TWOPI$1*o)/cos(PITHIRD-TWOPI$1*o))/3)):o<2/3?e=1-((n=(1-u)/3)+(a=(1+u*cos(TWOPI$1*(o-=1/3))/cos(PITHIRD-TWOPI$1*o))/3)):n=1-((a=(1-u)/3)+(e=(1+u*cos(TWOPI$1*(o-=2/3))/cos(PITHIRD-TWOPI$1*o))/3)),[255*(n=limit$1(l*n*3)),255*(a=limit$1(l*a*3)),255*(e=limit$1(l*e*3)),3<r.length?r[3]:1]},hsi2rgb_1=hsi2rgb,unpack$d=utils.unpack,type$3=utils.type;Color_1.prototype.hsi=function(){return rgb2hsi_1(this._rgb)},chroma_1.hsi=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["hsi"])))},input.format.hsi=hsi2rgb_1,input.autodetect.push({p:2,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$d(r,"hsi"),"array"===type$3(r)&&3===r.length)return"hsi"}});var unpack$e=utils.unpack,type$4=utils.type;Color_1.prototype.hsl=function(){return rgb2hsl_1(this._rgb)},chroma_1.hsl=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["hsl"])))},input.format.hsl=hsl2rgb_1,input.autodetect.push({p:2,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$e(r,"hsl"),"array"===type$4(r)&&3===r.length)return"hsl"}});var unpack$f=utils.unpack,min$1=Math.min,max$1=Math.max,rgb2hsl$1=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n,a,e,o=(r=unpack$f(r,"rgb"))[0],u=r[1],l=r[2],c=min$1(o,u,l),i=max$1(o,u,l),s=i-c;return e=i/255,0===i?(n=Number.NaN,a=0):(a=s/i,o===i&&(n=(u-l)/s),u===i&&(n=2+(l-o)/s),l===i&&(n=4+(o-u)/s),(n*=60)<0&&(n+=360)),[n,a,e]},rgb2hsv=rgb2hsl$1,unpack$g=utils.unpack,floor$1=Math.floor,hsv2rgb=function(){for(var r,t,n,a,e,o,u=[],l=arguments.length;l--;)u[l]=arguments[l];var c,i,s,f=(u=unpack$g(u,"hsv"))[0],p=u[1],g=u[2];if(g*=255,0===p)c=i=s=g;else{360===f&&(f=0),360<f&&(f-=360),f<0&&(f+=360);var h=floor$1(f/=60),b=f-h,d=g*(1-p),m=g*(1-p*b),_=g*(1-p*(1-b));switch(h){case 0:c=(r=[g,_,d])[0],i=r[1],s=r[2];break;case 1:c=(t=[m,g,d])[0],i=t[1],s=t[2];break;case 2:c=(n=[d,g,_])[0],i=n[1],s=n[2];break;case 3:c=(a=[d,m,g])[0],i=a[1],s=a[2];break;case 4:c=(e=[_,d,g])[0],i=e[1],s=e[2];break;case 5:c=(o=[g,d,m])[0],i=o[1],s=o[2]}}return[c,i,s,3<u.length?u[3]:1]},hsv2rgb_1=hsv2rgb,unpack$h=utils.unpack,type$5=utils.type;Color_1.prototype.hsv=function(){return rgb2hsv(this._rgb)},chroma_1.hsv=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["hsv"])))},input.format.hsv=hsv2rgb_1,input.autodetect.push({p:2,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$h(r,"hsv"),"array"===type$5(r)&&3===r.length)return"hsv"}});var labConstants={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},unpack$i=utils.unpack,pow=Math.pow,rgb2lab=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$i(r,"rgb"),a=n[0],e=n[1],o=n[2],u=rgb2xyz(a,e,o),l=u[0],c=u[1],i=116*c-16;return[i<0?0:i,500*(l-c),200*(c-u[2])]},rgb_xyz=function(r){return(r/=255)<=.04045?r/12.92:pow((r+.055)/1.055,2.4)},xyz_lab=function(r){return r>labConstants.t3?pow(r,1/3):r/labConstants.t2+labConstants.t0},rgb2xyz=function(r,t,n){return r=rgb_xyz(r),t=rgb_xyz(t),n=rgb_xyz(n),[xyz_lab((.4124564*r+.3575761*t+.1804375*n)/labConstants.Xn),xyz_lab((.2126729*r+.7151522*t+.072175*n)/labConstants.Yn),xyz_lab((.0193339*r+.119192*t+.9503041*n)/labConstants.Zn)]},rgb2lab_1=rgb2lab,unpack$j=utils.unpack,pow$1=Math.pow,lab2rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n,a,e,o=(r=unpack$j(r,"lab"))[0],u=r[1],l=r[2];return a=(o+16)/116,n=isNaN(u)?a:a+u/500,e=isNaN(l)?a:a-l/200,a=labConstants.Yn*lab_xyz(a),n=labConstants.Xn*lab_xyz(n),e=labConstants.Zn*lab_xyz(e),[xyz_rgb(3.2404542*n-1.5371385*a-.4985314*e),xyz_rgb(-.969266*n+1.8760108*a+.041556*e),xyz_rgb(.0556434*n-.2040259*a+1.0572252*e),3<r.length?r[3]:1]},xyz_rgb=function(r){return 255*(r<=.00304?12.92*r:1.055*pow$1(r,1/2.4)-.055)},lab_xyz=function(r){return r>labConstants.t1?r*r*r:labConstants.t2*(r-labConstants.t0)},lab2rgb_1=lab2rgb,unpack$k=utils.unpack,type$6=utils.type;Color_1.prototype.lab=function(){return rgb2lab_1(this._rgb)},chroma_1.lab=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["lab"])))},input.format.lab=lab2rgb_1,input.autodetect.push({p:2,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$k(r,"lab"),"array"===type$6(r)&&3===r.length)return"lab"}});var unpack$l=utils.unpack,RAD2DEG=utils.RAD2DEG,sqrt$1=Math.sqrt,atan2=Math.atan2,round$4=Math.round,lab2lch=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$l(r,"lab"),a=n[0],e=n[1],o=n[2],u=sqrt$1(e*e+o*o),l=(atan2(o,e)*RAD2DEG+360)%360;return 0===round$4(1e4*u)&&(l=Number.NaN),[a,u,l]},lab2lch_1=lab2lch,unpack$m=utils.unpack,rgb2lch=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$m(r,"rgb"),a=n[0],e=n[1],o=n[2],u=rgb2lab_1(a,e,o),l=u[0],c=u[1],i=u[2];return lab2lch_1(l,c,i)},rgb2lch_1=rgb2lch,unpack$n=utils.unpack,DEG2RAD=utils.DEG2RAD,sin=Math.sin,cos$1=Math.cos,lch2lab=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$n(r,"lch"),a=n[0],e=n[1],o=n[2];return isNaN(o)&&(o=0),[a,cos$1(o*=DEG2RAD)*e,sin(o)*e]},lch2lab_1=lch2lab,unpack$o=utils.unpack,lch2rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=(r=unpack$o(r,"lch"))[0],a=r[1],e=r[2],o=lch2lab_1(n,a,e),u=o[0],l=o[1],c=o[2],i=lab2rgb_1(u,l,c);return[i[0],i[1],i[2],3<r.length?r[3]:1]},lch2rgb_1=lch2rgb,unpack$p=utils.unpack,type$7=utils.type;Color_1.prototype.lch=function(){return rgb2lch_1(this._rgb)},chroma_1.lch=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["lch"])))},input.format.lch=lch2rgb_1,input.autodetect.push({p:2,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$p(r,"lch"),"array"===type$7(r)&&3===r.length)return"lch"}});var type$8=utils.type;Color_1.prototype.name=function(){for(var r=rgb2hex_1(this._rgb,"rgb"),t=0,n=Object.keys(w3cx11_1);t<n.length;t+=1){var a=n[t];if(w3cx11_1[a]===r)return a.toLowerCase()}return r},input.format.named=function(r){if(r=r.toLowerCase(),w3cx11_1[r])return hex2rgb_1(w3cx11_1[r]);throw new Error("unknown color name: "+r)},input.autodetect.push({p:5,test:function(r){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(!t.length&&"string"===type$8(r)&&w3cx11_1[r.toLowerCase()])return"named"}});var unpack$q=utils.unpack,rgb2num=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];var n=unpack$q(r,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},rgb2num_1=rgb2num,type$9=utils.type,num2rgb=function(r){return"number"==type$9(r)&&0<=r&&r<=16777215?[r>>16,r>>8&255,255&r,1]:(console.warn("unknown num color: "+r),[0,0,0,1])},num2rgb_1=num2rgb;Color_1.prototype.num=function(){return rgb2num_1(this._rgb)},chroma_1.num=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["num"])))},input.format.num=num2rgb_1;var unpack$r=utils.unpack,type$a=utils.type;Color_1.prototype.rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(!r.length)return this._rgb.slice(0);this._rgb=unpack$r(r,"rgba")},chroma_1.rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["rgb"])))},input.format.rgb=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return unpack$r(r,"rgba")},input.autodetect.push({p:3,test:function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];if(r=unpack$r(r,"rgba"),"array"===type$a(r)&&(3===r.length||4===r.length&&"number"==type$a(a[3])&&0<=a[3]&&a[3]<=1))return"rgb"}});var log=Math.log,temperature2rgb=function(r){var t,n,a,e=r/100;return a=e<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=e-2)+104.49216199393888*log(n),e<20?0:.8274096064007395*(a=e-10)-254.76935184120902+115.67994401066147*log(a)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*log(t),n=325.4494125711974+.07943456536662342*(n=e-50)-28.0852963507957*log(n),255),[t,n,a,1]},temperature2rgb_1=temperature2rgb,unpack$s=utils.unpack,round$5=Math.round,rgb2temperature=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];for(var n,a=unpack$s(r,"rgb"),e=a[0],o=(a[1],a[2]),u=1e3,l=4e4;.4<l-u;){var c=temperature2rgb_1(n=.5*(l+u));c[2]/c[0]>=o/e?l=n:u=n}return round$5(n)},rgb2temperature_1=rgb2temperature;Color_1.prototype.temp=Color_1.prototype.temperature=function(){return rgb2temperature_1(this._rgb)},chroma_1.temp=chroma_1.temperature=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return new(Function.prototype.bind.apply(Color_1,[null].concat(r,["temp"])))},input.format.temp=input.format.temperature=temperature2rgb_1;var chroma_js=chroma_1;module.exports=chroma_js;
